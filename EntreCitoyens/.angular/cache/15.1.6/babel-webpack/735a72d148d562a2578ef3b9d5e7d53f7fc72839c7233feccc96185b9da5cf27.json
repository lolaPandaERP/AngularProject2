{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/cat/category.service\";\nimport * as i2 from \"@angular/common\";\nfunction CategoryListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \" Aucune ressource disponible. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"active\": a0\n  };\n};\nfunction CategoryListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13);\n    i0.ɵɵelement(2, \"img\", 14);\n    i0.ɵɵelementStart(3, \"div\", 15)(4, \"h3\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CategoryListComponent_div_6_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const category_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteCategory(category_r2.id));\n    });\n    i0.ɵɵtext(9, \"Supprimer\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, i_r3 === 0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", category_r2.image_path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(category_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r2.description);\n  }\n}\nexport class CategoryListComponent {\n  constructor(categoryService) {\n    this.categoryService = categoryService;\n    this.categories = [];\n  }\n  ngOnInit() {\n    this.fetchCategory();\n  }\n  fetchCategory() {\n    this.categoryService.getCategory().subscribe(resources => {\n      this.categories = resources;\n    });\n  }\n  deleteCategory(id) {\n    this.categoryService.deleteCategory(id).subscribe(() => {\n      this.fetchCategory();\n    });\n  }\n}\nCategoryListComponent.ɵfac = function CategoryListComponent_Factory(t) {\n  return new (t || CategoryListComponent)(i0.ɵɵdirectiveInject(i1.categoryService));\n};\nCategoryListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoryListComponent,\n  selectors: [[\"app-category-list\"]],\n  decls: 15,\n  vars: 2,\n  consts: [[1, \"category-list\"], [1, \"title\"], [\"class\", \"empty-message\", 4, \"ngIf\"], [\"id\", \"categorySlider\", \"data-ride\", \"carousel\", 1, \"carousel\", \"slide\"], [1, \"carousel-inner\"], [\"class\", \"carousel-item\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"#categorySlider\", \"role\", \"button\", \"data-slide\", \"prev\", 1, \"carousel-control-prev\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-prev-icon\"], [1, \"sr-only\"], [\"href\", \"#categorySlider\", \"role\", \"button\", \"data-slide\", \"next\", 1, \"carousel-control-next\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-next-icon\"], [1, \"empty-message\"], [1, \"carousel-item\", 3, \"ngClass\"], [1, \"card\", \"h-100\"], [\"alt\", \"Image de l'article\", 1, \"card-img-top\", \"image\", 3, \"src\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", \"btn-danger\", \"mt-auto\", 3, \"click\"]],\n  template: function CategoryListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Liste des cat\\u00E9gories\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, CategoryListComponent_div_3_Template, 2, 0, \"div\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4);\n      i0.ɵɵtemplate(6, CategoryListComponent_div_6_Template, 10, 6, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"a\", 6);\n      i0.ɵɵelement(8, \"span\", 7);\n      i0.ɵɵelementStart(9, \"span\", 8);\n      i0.ɵɵtext(10, \"Previous\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"a\", 9);\n      i0.ɵɵelement(12, \"span\", 10);\n      i0.ɵɵelementStart(13, \"span\", 8);\n      i0.ɵɵtext(14, \"Next\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.categories.length === 0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;IAGEA,+BAA2D;IACzDA,8CACF;IAAAA,iBAAM;;;;;;;;;;;IAIFA,+BAAgH;IAE5GA,0BAAqF;IACrFA,+BAA0C;IACjBA,YAAoB;IAAAA,iBAAK;IAChDA,6BAAqB;IAAAA,YAA0B;IAAAA,iBAAI;IACnDA,kCAA6E;IAArEA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA2B;IAAA,EAAC;IAAgCA,yBAAS;IAAAA,iBAAS;;;;;IANvBA,gEAAiC;IAEtGA,eAA2B;IAA3BA,8DAA2B;IAEPA,eAAoB;IAApBA,uCAAoB;IACtBA,eAA0B;IAA1BA,6CAA0B;;;AC8C3D,OAAM,MAAOC,qBAAqB;EAGhCC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAFnC,eAAU,GAAe,EAAE;EAE6B;EAExDC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACF,eAAe,CAACG,WAAW,EAAE,CAACC,SAAS,CAACC,SAAS,IAAG;MACvD,IAAI,CAACC,UAAU,GAAGD,SAAS;IAC7B,CAAC,CAAC;EACJ;EAEAE,cAAc,CAACC,EAAU;IACvB,IAAI,CAACR,eAAe,CAACO,cAAc,CAACC,EAAE,CAAC,CAACJ,SAAS,CAAC,MAAK;MACrD,IAAI,CAACF,aAAa,EAAE;IACtB,CAAC,CAAC;EACJ;;AAnBWJ,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MD5DlChB,8BAA2B;MACPA,yCAAoB;MAAAA,iBAAK;MAE3CA,sEAEM;MAENA,8BAAqE;MAEjEA,uEASM;MACRA,iBAAM;MACNA,4BAAwF;MACtFA,0BAAmE;MACnEA,+BAAsB;MAAAA,yBAAQ;MAAAA,iBAAO;MAEvCA,6BAAwF;MACtFA,4BAAmE;MACnEA,gCAAsB;MAAAA,qBAAI;MAAAA,iBAAO;;;MAvB/BA,eAA6B;MAA7BA,kDAA6B;MAMLA,eAAe;MAAfA,wCAAe","names":["i0","CategoryListComponent","constructor","categoryService","ngOnInit","fetchCategory","getCategory","subscribe","resources","categories","deleteCategory","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\lola\\Documents\\GitHub\\AngularProject\\EntreCitoyens\\src\\app\\Components\\category\\category-list\\category-list.component.html","C:\\Users\\lola\\Documents\\GitHub\\AngularProject\\EntreCitoyens\\src\\app\\Components\\category\\category-list\\category-list.component.ts"],"sourcesContent":["<div class=\"category-list\">\n  <h2 class=\"title\">Liste des catégories</h2>\n\n  <div *ngIf=\"categories.length === 0\" class=\"empty-message\">\n    Aucune ressource disponible.\n  </div>\n\n  <div id=\"categorySlider\" class=\"carousel slide\" data-ride=\"carousel\">\n    <div class=\"carousel-inner\">\n      <div *ngFor=\"let category of categories; let i = index\" class=\"carousel-item\" [ngClass]=\"{ 'active': i === 0 }\">\n        <div class=\"card h-100\">\n          <img [src]=\"category.image_path\" alt=\"Image de l'article\" class=\"card-img-top image\">\n          <div class=\"card-body d-flex flex-column\">\n            <h3 class=\"card-title\">{{ category.title }}</h3>\n            <p class=\"card-text\">{{ category.description }}</p>\n            <button (click)=\"deleteCategory(category.id)\" class=\"btn btn-danger mt-auto\">Supprimer</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <a class=\"carousel-control-prev\" href=\"#categorySlider\" role=\"button\" data-slide=\"prev\">\n      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n      <span class=\"sr-only\">Previous</span>\n    </a>\n    <a class=\"carousel-control-next\" href=\"#categorySlider\" role=\"button\" data-slide=\"next\">\n      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n      <span class=\"sr-only\">Next</span>\n    </a>\n  </div>\n</div>\n","// import { Component, OnInit } from '@angular/core';\n// import { Router } from '@angular/router';\n\n// import { Resource } from '../../../DTO/resource';\n// import { ResourceService } from '../../../Services/resource/resource.service';\n\n// @Component({\n//   selector: 'app-resource-list',\n//   templateUrl: './resource-list.component.html',\n//   styleUrls: ['./resource-list.component.scss']\n// })\n// export class ResourceListComponent implements OnInit {\n//   resources: Resource[];\n\n//   constructor(\n//     private router: Router,\n//     private resourceService: ResourceService\n//   ) { }\n\n//   ngOnInit(): void {\n//     this.resourceService.getResources().subscribe(\n//       (resources: Resource[]) => {\n//         this.resources = resources;\n//       },\n//       (error) => {\n//         // Gérer les erreurs ici\n//       }\n//     );\n//   }\n\n//   editResource(resourceId: string): void {\n//     this.router.navigate(['/resource/edit', resourceId]);\n//   }\n\n//   deleteResource(resourceId: string): void {\n//     this.resourceService.deleteResource(resourceId).subscribe(\n//       () => {\n//         // Gérer la suppression réussie ici\n//         // Par exemple, actualiser la liste des ressources\n//         this.resources = this.resources.filter(resource => resource.id !== resourceId);\n//       },\n//       (error) => {\n//         // Gérer les erreurs ici\n//       }\n//     );\n//   }\n// }\n\n\n\nimport { Component, OnInit } from '@angular/core';\nimport { Category } from '../../../DTO/category';\nimport { categoryService } from 'src/app/Services/cat/category.service';\n\n@Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.scss']\n})\n\nexport class CategoryListComponent implements OnInit {\n  categories: Category[] = [];\n\n  constructor(private categoryService: categoryService) { }\n\n  ngOnInit(): void {\n    this.fetchCategory();\n  }\n\n  fetchCategory(): void {\n    this.categoryService.getCategory().subscribe(resources => {\n      this.categories = resources;\n    });\n  }\n\n  deleteCategory(id: string): void {\n    this.categoryService.deleteCategory(id).subscribe(() => {\n      this.fetchCategory();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}