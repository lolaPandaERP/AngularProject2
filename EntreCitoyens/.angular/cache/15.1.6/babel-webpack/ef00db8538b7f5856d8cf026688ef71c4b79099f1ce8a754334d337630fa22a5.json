{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../Services/auth/auth.service\";\nimport * as i3 from \"../../../Services/resource/resource.service\";\nimport * as i4 from \"@angular/router\";\n// import { resource } from 'src/app/DTO/resource';\nexport class ResourceCreateComponent {\n  constructor(fb, authService, resourceService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.resourceService = resourceService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.createForm = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      type: ['', Validators.required],\n      file: ['', Validators.required]\n    });\n  }\n  createResource() {\n    const resource = {\n      title: this.createForm.get('title').value,\n      description: this.createForm.get('description').value,\n      type: this.createForm.get('type').value,\n      file: this.createForm.get('file').value\n    };\n    this.resourceService.createResource(resource).subscribe(response => {\n      console.log(response);\n      this.router.navigate(['/resources']);\n    }, error => {\n      this.errorMessage = error.error.message;\n    });\n  }\n}\nResourceCreateComponent.ɵfac = function ResourceCreateComponent_Factory(t) {\n  return new (t || ResourceCreateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ResourceService), i0.ɵɵdirectiveInject(i4.Router));\n};\nResourceCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ResourceCreateComponent,\n  selectors: [[\"app-resource-create\"]],\n  decls: 2,\n  vars: 0,\n  template: function ResourceCreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"resource-create works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\"]\n});","map":{"version":3,"mappings":"AAWA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;AAMnE;AAOA,OAAM,MAAOC,uBAAuB;EAIlCC,YACUC,EAAe,EACfC,WAAwB,EACxBC,eAAgC,EAChCC,MAAc;IAHd,OAAE,GAAFH,EAAE;IACF,gBAAW,GAAXC,WAAW;IACX,oBAAe,GAAfC,eAAe;IACf,WAAM,GAANC,MAAM;EACZ;EAEJC,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,IAAI,CAACL,EAAE,CAACM,KAAK,CAAC;MAC9BC,KAAK,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACW,QAAQ,CAAC;MAChCC,WAAW,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACW,QAAQ,CAAC;MACtCE,IAAI,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACW,QAAQ,CAAC;MAC/BG,IAAI,EAAE,CAAC,EAAE,EAAEd,UAAU,CAACW,QAAQ;KAC/B,CAAC;EACJ;EAEAI,cAAc;IACZ,MAAMC,QAAQ,GAAG;MACfN,KAAK,EAAE,IAAI,CAACF,UAAU,CAACS,GAAG,CAAC,OAAO,CAAC,CAACC,KAAK;MACzCN,WAAW,EAAE,IAAI,CAACJ,UAAU,CAACS,GAAG,CAAC,aAAa,CAAC,CAACC,KAAK;MACrDL,IAAI,EAAE,IAAI,CAACL,UAAU,CAACS,GAAG,CAAC,MAAM,CAAC,CAACC,KAAK;MACvCJ,IAAI,EAAE,IAAI,CAACN,UAAU,CAACS,GAAG,CAAC,MAAM,CAAC,CAACC;KACnC;IAED,IAAI,CAACb,eAAe,CAACU,cAAc,CAACC,QAAQ,CAAC,CAC1CG,SAAS,CACPC,QAAQ,IAAI;MACXC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACd,MAAM,CAACiB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC,EACAC,KAAK,IAAI;MACR,IAAI,CAACC,YAAY,GAAGD,KAAK,CAACA,KAAK,CAACE,OAAO;IACzC,CAAC,CACF;EACL;;AAtCWzB,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAA0B;EAAAC;EAAAC;EAAAC;IAAA;MCxBpCC,yBAAG;MAAAA,sCAAsB;MAAAA,iBAAI","names":["Validators","ResourceCreateComponent","constructor","fb","authService","resourceService","router","ngOnInit","createForm","group","title","required","description","type","file","createResource","resource","get","value","subscribe","response","console","log","navigate","error","errorMessage","message","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\lola\\Documents\\GitHub\\AngularProject\\EntreCitoyens\\src\\app\\Components\\resource\\resource-create\\resource-create.component.ts","C:\\Users\\lola\\Documents\\GitHub\\AngularProject\\EntreCitoyens\\src\\app\\Components\\resource\\resource-create\\resource-create.component.html"],"sourcesContent":["/**\n * importé les modules Component, OnInit, FormGroup, FormBuilder, Validators et Router depuis le module @angular/core et le module @angular/forms ;\n * importé les services AuthService et ResourceService depuis leurs fichiers respectifs ;\n * créé la classe ResourceCreateComponent qui implémente l'interface OnInit ;\n * initialisé les propriétés createForm et errorMessage dans le constructeur ;\n * défini la méthode ngOnInit qui crée le formulaire de création de ressource avec le module FormBuilder ;\n * défini la méthode createResource qui crée une ressource en appelant la méthode createResource du service ResourceService et redirige vers la liste des ressources en cas de succès ou affiche un message d'erreur en cas d'échec.\n */\n\n\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from '../../../Services/auth/auth.service';\nimport { ResourceService } from '../../../Services/resource/resource.service';\n\n// import { resource } from 'src/app/DTO/resource';\n\n@Component({\n  selector: 'app-resource-create',\n  templateUrl: './resource-create.component.html',\n  styleUrls: ['./resource-create.component.css']\n})\nexport class ResourceCreateComponent implements OnInit {\n  createForm: FormGroup;\n  errorMessage: string;\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private resourceService: ResourceService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.createForm = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      type: ['', Validators.required],\n      file: ['', Validators.required]\n    });\n  }\n\n  createResource(): void {\n    const resource = {\n      title: this.createForm.get('title').value,\n      description: this.createForm.get('description').value,\n      type: this.createForm.get('type').value,\n      file: this.createForm.get('file').value\n    };\n\n    this.resourceService.createResource(resource)\n      .subscribe(\n        (response) => {\n          console.log(response);\n          this.router.navigate(['/resources']);\n        },\n        (error) => {\n          this.errorMessage = error.error.message;\n        }\n      );\n  }\n}\n","<p>resource-create works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}