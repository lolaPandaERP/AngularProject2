{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/resource/resource.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../Components/resource/resource-list/resource-list.component\";\nimport * as i6 from \"../../Components/slider/slider.component\";\nfunction HomeComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"app-resource-create\", 22);\n    i0.ɵɵlistener(\"resourceCreated\", function HomeComponent_div_13_Template_app_resource_create_resourceCreated_2_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.handleResourceCreated(ctx_r1.convertToResource($event)));\n    })(\"closeModal\", function HomeComponent_div_13_Template_app_resource_create_closeModal_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.closeModal());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c0 = function () {\n  return [\"/resourceCreate\"];\n};\nexport class HomeComponent {\n  constructor(resourceService) {\n    this.resourceService = resourceService;\n    // Slider\n    this.sliderImages = ['../../../assets/resourceImage/image1.jpg', '../../../assets/resourceImage/image2.jpg'];\n    this.resources = [];\n    this.filteredResources = [];\n    this.searchTerm = '';\n    // Popup creation\n    this.isModalOpen = true;\n  }\n  ngOnInit() {\n    this.fetchResources();\n  }\n  fetchResources() {\n    this.resourceService.getResources().subscribe(resources => {\n      this.resources = resources;\n      this.filterResources(); // Appliquer le filtrage initial\n    }, error => {\n      // Gérer les erreurs ici\n    });\n  }\n  filterResources() {\n    this.filteredResources = this.resources.filter(resource => resource.title.toLowerCase().includes(this.searchTerm.toLowerCase()));\n  }\n  openModal() {\n    this.isModalOpen = true;\n  }\n  closeModal() {\n    this.isModalOpen = false;\n  }\n  convertToResource(event) {\n    return event;\n  }\n  handleResourceCreated(resource) {\n    console.log('Ressource créée :', resource);\n    // mettre à jour la liste des ressources\n    this.resourceService.updateResource(resource);\n    this.closeModal();\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ResourceService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 37,\n  vars: 5,\n  consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1, shrink-to-fit=no\"], [\"http-equiv\", \"x-ua-compatible\", \"content\", \"ie=edge\"], [3, \"images\"], [1, \"popupCreation\"], [3, \"routerLink\"], [\"href\", \"\", 1, \"btn\", \"btn-secondary\"], [\"class\", \"modal\", 4, \"ngIf\"], [1, \"my-5\"], [1, \"container\"], [\"type\", \"text\", \"placeholder\", \"Rechercher...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"aria-label\", \"...\", 1, \"my-4\"], [1, \"pagination\", \"pagination-circle\", \"justify-content-center\"], [1, \"page-item\"], [\"href\", \"#\", \"tabindex\", \"-1\", \"aria-disabled\", \"true\", 1, \"page-link\"], [1, \"page-item\", \"active\"], [\"href\", \"#\", 1, \"page-link\"], [\"aria-current\", \"page\", 1, \"page-item\"], [1, \"sr-only\"], [1, \"modal\"], [1, \"modal-content\"], [3, \"resourceCreated\", \"closeModal\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"meta\", 3);\n      i0.ɵɵelementStart(5, \"title\");\n      i0.ɵɵtext(6, \"Entre citoyens\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"body\");\n      i0.ɵɵelement(8, \"app-slider\", 4);\n      i0.ɵɵelementStart(9, \"section\", 5)(10, \"a\", 6)(11, \"button\", 7);\n      i0.ɵɵtext(12, \"Creer une nouvelle ressource\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(13, HomeComponent_div_13_Template, 3, 0, \"div\", 8);\n      i0.ɵɵelementStart(14, \"main\", 9)(15, \"div\", 10)(16, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.searchTerm = $event;\n      })(\"keyup\", function HomeComponent_Template_input_keyup_16_listener() {\n        return ctx.filterResources();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"app-resource-list\");\n      i0.ɵɵelementStart(18, \"nav\", 12)(19, \"ul\", 13)(20, \"li\", 14)(21, \"a\", 15);\n      i0.ɵɵtext(22, \"Pr\\u00E9c\\u00E9dent\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"li\", 16)(24, \"a\", 17);\n      i0.ɵɵtext(25, \"1\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"li\", 18)(27, \"a\", 17);\n      i0.ɵɵtext(28, \"2 \");\n      i0.ɵɵelementStart(29, \"span\", 19);\n      i0.ɵɵtext(30, \"(current)\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"li\", 14)(32, \"a\", 17);\n      i0.ɵɵtext(33, \"3\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"li\", 14)(35, \"a\", 17);\n      i0.ɵɵtext(36, \"Suivant\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"images\", ctx.sliderImages);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isModalOpen);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i4.RouterLink, i3.NgModel, i5.ResourceListComponent, i6.SliderComponent],\n  styles: [\"#intro[_ngcontent-%COMP%] {\\n  \\n  margin-top: 58px;\\n}\\n\\n@media (max-width: 991px) {\\n  #intro[_ngcontent-%COMP%] {\\n    \\n    margin-top: 45px;\\n  }\\n}\\n.form-control[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.popupCreation[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvUGFnZXMvaG9tZS9ob21lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsMkNBQUE7RUFDQSxnQkFBQTtBQUFGOztBQUVBO0VBQ0U7SUFDRSwyQ0FBQTtJQUNBLGdCQUFBO0VBQ0Y7QUFDRjtBQUVBO0VBQ0Usa0JBQUE7QUFBRjs7QUFHQTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7QUFBRiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4jaW50cm8ge1xyXG4gIC8qIE1hcmdpbiB0byBmaXggb3ZlcmxhcHBpbmcgZml4ZWQgbmF2YmFyICovXHJcbiAgbWFyZ2luLXRvcDogNThweDtcclxufVxyXG5AbWVkaWEgKG1heC13aWR0aDogOTkxcHgpIHtcclxuICAjaW50cm8ge1xyXG4gICAgLyogTWFyZ2luIHRvIGZpeCBvdmVybGFwcGluZyBmaXhlZCBuYXZiYXIgKi9cclxuICAgIG1hcmdpbi10b3A6IDQ1cHg7XHJcbiAgfVxyXG59XHJcblxyXG4uZm9ybS1jb250cm9se1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnBvcHVwQ3JlYXRpb24ge1xyXG4gIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uaDJ7XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAkBAA,+BAAuC;IAGdA;MAAAA;MAAA;MAAA,OAAmBA,4CAAsBC,gCAAyB,CAAC;IAAA,EAAC;MAAAD;MAAA;MAAA,OAAeA,kCAAY;IAAA,EAA3B;IAA6BA,iBAAsB;;;;;;ACZhJ,OAAM,MAAOE,aAAa;EAYxBC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAVnC;IACA,iBAAY,GAAa,CACvB,0CAA0C,EAC1C,0CAA0C,CAC3C;IAED,cAAS,GAAe,EAAE;IAC1B,sBAAiB,GAAe,EAAE;IAClC,eAAU,GAAW,EAAE;IA0BvB;IACA,gBAAW,GAAY,IAAI;EAzB6B;EAExDC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACF,eAAe,CAACG,YAAY,EAAE,CAACC,SAAS,CAC1CC,SAAqB,IAAI;MACxB,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACC,eAAe,EAAE,CAAC,CAAC;IAC1B,CAAC,EACAC,KAAK,IAAI;MACR;IAAA,CACD,CACF;EACH;EAEAD,eAAe;IACb,IAAI,CAACE,iBAAiB,GAAG,IAAI,CAACH,SAAS,CAACI,MAAM,CAACC,QAAQ,IACrDA,QAAQ,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACC,UAAU,CAACF,WAAW,EAAE,CAAC,CACrE;EACH;EAKAG,SAAS;IACP,IAAI,CAACC,WAAW,GAAG,IAAI;EACzB;EAEAC,UAAU;IACR,IAAI,CAACD,WAAW,GAAG,KAAK;EAC1B;EAEAE,iBAAiB,CAACC,KAAU;IAC1B,OAAOA,KAAiB;EAC1B;EAEAC,qBAAqB,CAACV,QAAkB;IACtCW,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEZ,QAAQ,CAAC;IAC1C;IACA,IAAI,CAACV,eAAe,CAACuB,cAAc,CAACb,QAAQ,CAAC;IAC7C,IAAI,CAACO,UAAU,EAAE;EACnB;;AAxDWnB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR1BhC,+BAAgB;MAEZA,0BAAwB;MAGxBA,6BAAO;MAAAA,8BAAc;MAAAA,iBAAQ;MAEjCA,4BAAM;MACJA,gCAAiD;MAGjDA,kCAA+B;MAEgDA,6CAA4B;MAAAA,iBAAS;MAItHA,gEAKM;MAEJA,gCAAmB;MAGIA;QAAA;MAAA,EAAwB;QAAA,OAAUiC,qBAAiB;MAAA,EAA3B;MAA3CjC,iBAAyH;MAG1HA,qCAAuC;MAItCA,gCAAmC;MAGoCA,oCAAS;MAAAA,iBAAI;MAEhFA,+BAA6B;MAA8BA,kBAAC;MAAAA,iBAAI;MAChEA,+BAA0C;MACVA,mBAAE;MAAAA,iCAAsB;MAAAA,0BAAS;MAAAA,iBAAO;MAExEA,+BAAsB;MAA8BA,kBAAC;MAAAA,iBAAI;MACzDA,+BAAsB;MACUA,wBAAO;MAAAA,iBAAI;;;MArCvCA,eAAuB;MAAvBA,yCAAuB;MAK9BA,eAAkC;MAAlCA,uDAAkC;MAIrBA,eAAiB;MAAjBA,sCAAiB;MAUZA,eAAwB;MAAxBA,wCAAwB","names":["i0","ctx_r1","HomeComponent","constructor","resourceService","ngOnInit","fetchResources","getResources","subscribe","resources","filterResources","error","filteredResources","filter","resource","title","toLowerCase","includes","searchTerm","openModal","isModalOpen","closeModal","convertToResource","event","handleResourceCreated","console","log","updateResource","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\lola\\Documents\\GitHub\\AngularProject2\\EntreCitoyens\\src\\app\\Pages\\home\\home.component.html","C:\\Users\\lola\\Documents\\GitHub\\AngularProject2\\EntreCitoyens\\src\\app\\Pages\\home\\home.component.ts"],"sourcesContent":["<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n    <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\" />\r\n    <title>Entre citoyens</title>\r\n</head>\r\n<body>\r\n  <app-slider [images]=\"sliderImages\"></app-slider>\r\n  <!--Main layout-->\r\n\r\n  <section class=\"popupCreation\">\r\n    <!-- Bouton pour ouvrir la fenêtre modale -->\r\n    <a [routerLink]=\"['/resourceCreate']\"><button href class=\"btn btn-secondary\">Creer une nouvelle ressource</button></a>\r\n  </section>\r\n\r\n  <!-- Fenêtre modale pour la création de ressource -->\r\n<div class=\"modal\" *ngIf=\"isModalOpen\">\r\n  <div class=\"modal-content\">\r\n    <!-- <app-resource-create (resourceCreated)=\"handleResourceCreated($event)\" (closeModal)=\"closeModal()\"></app-resource-create> -->\r\n    <app-resource-create (resourceCreated)=\"handleResourceCreated(convertToResource($event))\" (closeModal)=\"closeModal()\"></app-resource-create>\r\n  </div>\r\n</div>\r\n\r\n  <main class=\"my-5\">\r\n    <div class=\"container\">\r\n      <!-- Barre de recherche -->\r\n      <input type=\"text\" [(ngModel)]=\"searchTerm\" (keyup)=\"filterResources()\" placeholder=\"Rechercher...\" class=\"form-control\">\r\n\r\n      <!-- Ressource's list -->\r\n     <app-resource-list></app-resource-list>\r\n      <!--Ressource's list -->\r\n\r\n      <!-- Pagination -->\r\n      <nav class=\"my-4\" aria-label=\"...\">\r\n        <ul class=\"pagination pagination-circle justify-content-center\">\r\n          <li class=\"page-item\">\r\n            <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Précédent</a>\r\n          </li>\r\n          <li class=\"page-item active\"><a class=\"page-link\" href=\"#\">1</a></li>\r\n          <li class=\"page-item\" aria-current=\"page\">\r\n            <a class=\"page-link\" href=\"#\">2 <span class=\"sr-only\">(current)</span></a>\r\n          </li>\r\n          <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\r\n          <li class=\"page-item\">\r\n            <a class=\"page-link\" href=\"#\">Suivant</a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </main>\r\n  <!--Main layout-->\r\n    <!-- MDB -->\r\n    <script type=\"text/javascript\" src=\"../../js/mdb.min.js\"></script>\r\n    <!-- Custom scripts -->\r\n    <script type=\"text/javascript\" src=\"../../js/mdb.min.js.map\"></script>\r\n\r\n</body>\r\n</html>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ResourceService } from '../../Services/resource/resource.service';\r\nimport { Resource } from '../../DTO/resource';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  // Slider\r\n  sliderImages: string[] = [\r\n    '../../../assets/resourceImage/image1.jpg',\r\n    '../../../assets/resourceImage/image2.jpg',\r\n  ];\r\n\r\n  resources: Resource[] = [];\r\n  filteredResources: Resource[] = [];\r\n  searchTerm: string = '';\r\n\r\n  constructor(private resourceService: ResourceService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchResources();\r\n  }\r\n\r\n  fetchResources(): void {\r\n    this.resourceService.getResources().subscribe(\r\n      (resources: Resource[]) => {\r\n        this.resources = resources;\r\n        this.filterResources(); // Appliquer le filtrage initial\r\n      },\r\n      (error) => {\r\n        // Gérer les erreurs ici\r\n      }\r\n    );\r\n  }\r\n\r\n  filterResources(): void {\r\n    this.filteredResources = this.resources.filter(resource =>\r\n      resource.title.toLowerCase().includes(this.searchTerm.toLowerCase())\r\n    );\r\n  }\r\n\r\n  // Popup creation\r\n  isModalOpen: boolean = true;\r\n\r\n  openModal(): void {\r\n    this.isModalOpen = true;\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.isModalOpen = false;\r\n  }\r\n\r\n  convertToResource(event: any): Resource {\r\n    return event as Resource;\r\n  }\r\n\r\n  handleResourceCreated(resource: Resource): void {\r\n    console.log('Ressource créée :', resource);\r\n    // mettre à jour la liste des ressources\r\n    this.resourceService.updateResource(resource);\r\n    this.closeModal();\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}