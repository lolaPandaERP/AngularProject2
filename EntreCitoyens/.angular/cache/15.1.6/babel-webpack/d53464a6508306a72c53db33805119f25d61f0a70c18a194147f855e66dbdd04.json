{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../Services/resource/resource.service\";\nfunction ResourceListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Aucune ressource disponible. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/resource/edit\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/resource/share\", a1];\n};\nfunction ResourceListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 8)(13, \"a\", 9);\n    i0.ɵɵtext(14, \"Modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"a\", 9);\n    i0.ɵɵtext(16, \"Partager\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ResourceListComponent_div_4_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const resource_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteResource(resource_r2.id));\n    });\n    i0.ɵɵtext(18, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const resource_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", resource_r2.image_path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(resource_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resource_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cr\\u00E9\\u00E9 par : \", resource_r2.createdBy, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cr\\u00E9\\u00E9 le : \", resource_r2.createdAt, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, resource_r2.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c1, resource_r2.id));\n  }\n}\nexport class ResourceListComponent {\n  constructor(resourceService) {\n    this.resourceService = resourceService;\n    this.resources = [];\n  }\n  ngOnInit() {\n    this.fetchResources();\n  }\n  fetchResources() {\n    this.resourceService.getResources().subscribe(resources => {\n      this.resources = resources;\n    });\n  }\n  deleteResource(id) {\n    this.resourceService.deleteResource(id).subscribe(() => {\n      this.fetchResources();\n    });\n  }\n}\nResourceListComponent.ɵfac = function ResourceListComponent_Factory(t) {\n  return new (t || ResourceListComponent)(i0.ɵɵdirectiveInject(i1.ResourceService));\n};\nResourceListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ResourceListComponent,\n  selectors: [[\"app-resource-list\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"resource-list\"], [\"class\", \"empty-message\", 4, \"ngIf\"], [\"class\", \"resource-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"empty-message\"], [1, \"resource-item\"], [1, \"resource-image\"], [\"alt\", \"Image de l'article\", 1, \"article-image\", 3, \"src\"], [1, \"resource-info\"], [1, \"resource-actions\"], [3, \"routerLink\"], [3, \"click\"]],\n  template: function ResourceListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Liste des ressources\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, ResourceListComponent_div_3_Template, 2, 0, \"div\", 1);\n      i0.ɵɵtemplate(4, ResourceListComponent_div_4_Template, 19, 11, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.resources.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.resources);\n    }\n  },\n  styles: [\"@charset \\\"UTF-8\\\";\\n.resource-list[_ngcontent-%COMP%] {\\n  \\n}\\n.resource-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 20px; \\n  font-weight: bold;\\n  margin-bottom: 10px; \\n}\\n.resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column; \\n  border: 1px solid #ddd;\\n  padding: 10px;\\n  margin-bottom: 10px;\\n}\\n.resource-list[_ngcontent-%COMP%]   .resource-info[_ngcontent-%COMP%] {\\n  margin-right: 0; \\n  margin-bottom: 10px; \\n}\\n.resource-list[_ngcontent-%COMP%]   .resource-image[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%] {\\n  width: 100%; \\n  height: auto; \\n  object-fit: cover;\\n  margin-bottom: 10px; \\n}\\n\\n@media (min-width: 768px) {\\n  .resource-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-size: 24px; \\n    margin-bottom: 20px; \\n  }\\n  .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%] {\\n    flex-direction: row; \\n  }\\n  .resource-list[_ngcontent-%COMP%]   .resource-info[_ngcontent-%COMP%] {\\n    margin-right: 20px; \\n    margin-bottom: 0; \\n  }\\n  .resource-list[_ngcontent-%COMP%]   .resource-image[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%] {\\n    width: 200px;\\n    height: 150px;\\n    margin-bottom: 0; \\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9yZXNvdXJjZS9yZXNvdXJjZS1saXN0L3Jlc291cmNlLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQWhCO0VBMkJFLGtFQUFBO0FBeEJGO0FBRkU7RUFDRSxlQUFBLEVBQUEsOERBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBLEVBQUEsZ0RBQUE7QUFJSjtBQURFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBLEVBQUEsaUVBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUdKO0FBQUU7RUFDRSxlQUFBLEVBQUEseURBQUE7RUFDQSxtQkFBQSxFQUFBLDJEQUFBO0FBRUo7QUFDRTtFQUNFLFdBQUEsRUFBQSxtRUFBQTtFQUNBLFlBQUEsRUFBQSxrREFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUEsRUFBQSx3Q0FBQTtBQUNKOztBQUtBO0VBRUk7SUFDRSxlQUFBLEVBQUEsb0VBQUE7SUFDQSxtQkFBQSxFQUFBLGlEQUFBO0VBSEo7RUFNRTtJQUNFLG1CQUFBLEVBQUEscUVBQUE7RUFKSjtFQU9FO0lBQ0Usa0JBQUEsRUFBQSw0REFBQTtJQUNBLGdCQUFBLEVBQUEsNERBQUE7RUFMSjtFQVFFO0lBQ0UsWUFBQTtJQUNBLGFBQUE7SUFDQSxnQkFBQSxFQUFBLHdFQUFBO0VBTko7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5yZXNvdXJjZS1saXN0IHtcclxuICBoMiB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7IC8qIFLDg8KpZHVpcmUgbGEgdGFpbGxlIGRlIGxhIHBvbGljZSBwb3VyIGxlcyBhcHBhcmVpbHMgbW9iaWxlcyAqL1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OyAvKiBSw4PCqWR1aXJlIGwnZXNwYWNlIGVudHJlIGxlIHRpdHJlIGV0IGxhIGxpc3RlICovXHJcbiAgfVxyXG5cclxuICAucmVzb3VyY2UtaXRlbSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgLyogQ2hhbmdlciBsYSBkaXNwb3NpdGlvbiBlbiBjb2xvbm5lIHBvdXIgbGVzIGFwcGFyZWlscyBtb2JpbGVzICovXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG5cclxuICAucmVzb3VyY2UtaW5mbyB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDA7IC8qIFN1cHByaW1lciBsYSBtYXJnZSBkcm9pdGUgcG91ciBsZXMgYXBwYXJlaWxzIG1vYmlsZXMgKi9cclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7IC8qIEFqb3V0ZXIgdW4gZXNwYWNlIGVudHJlIGxlcyDDg8KpbMODwqltZW50cyBkYW5zIGNoYXF1ZSBjYXJ0ZSAqL1xyXG4gIH1cclxuXHJcbiAgLnJlc291cmNlLWltYWdlIC5hcnRpY2xlLWltYWdlIHtcclxuICAgIHdpZHRoOiAxMDAlOyAvKiBGYWlyZSBlbiBzb3J0ZSBxdWUgbCdpbWFnZSBvY2N1cGUgdG91dGUgbGEgbGFyZ2V1ciBkZSBsYSBjYXJ0ZSAqL1xyXG4gICAgaGVpZ2h0OiBhdXRvOyAvKiBBanVzdGVyIGxhIGhhdXRldXIgZGUgbCdpbWFnZSBhdXRvbWF0aXF1ZW1lbnQgKi9cclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDsgLyogQWpvdXRlciB1biBlc3BhY2UgZW4gYmFzIGRlIGwnaW1hZ2UgKi9cclxuICB9XHJcblxyXG4gIC8qIFN0eWxlcyBwb3VyIGxlcyBhY3Rpb25zIChib3V0b25zKSBub24gbW9kaWZpw4PCqXMgcG91ciBsZSBtb2JpbGUgKi9cclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XHJcbiAgLnJlc291cmNlLWxpc3Qge1xyXG4gICAgaDIge1xyXG4gICAgICBmb250LXNpemU6IDI0cHg7IC8qIEF1Z21lbnRlciBsYSB0YWlsbGUgZGUgbGEgcG9saWNlIHBvdXIgbGVzIGFwcGFyZWlscyBwbHVzIGxhcmdlcyAqL1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OyAvKiBSw4PCqXRhYmxpciBsJ2VzcGFjZSBlbnRyZSBsZSB0aXRyZSBldCBsYSBsaXN0ZSAqL1xyXG4gICAgfVxyXG5cclxuICAgIC5yZXNvdXJjZS1pdGVtIHtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsgLyogUmV2ZW5pciDDg8KgIGxhIGRpc3Bvc2l0aW9uIGVuIGxpZ25lIHBvdXIgbGVzIGFwcGFyZWlscyBwbHVzIGxhcmdlcyAqL1xyXG4gICAgfVxyXG5cclxuICAgIC5yZXNvdXJjZS1pbmZvIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OyAvKiBSw4PCqXRhYmxpciBsYSBtYXJnZSBkcm9pdGUgcG91ciBsZXMgYXBwYXJlaWxzIHBsdXMgbGFyZ2VzICovXHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDA7IC8qIFN1cHByaW1lciBsJ2VzcGFjZSBlbnRyZSBsZXMgw4PCqWzDg8KpbWVudHMgZGFucyBjaGFxdWUgY2FydGUgKi9cclxuICAgIH1cclxuXHJcbiAgICAucmVzb3VyY2UtaW1hZ2UgLmFydGljbGUtaW1hZ2Uge1xyXG4gICAgICB3aWR0aDogMjAwcHg7XHJcbiAgICAgIGhlaWdodDogMTUwcHg7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDA7IC8qIFN1cHByaW1lciBsJ2VzcGFjZSBlbiBiYXMgZGUgbCdpbWFnZSBwb3VyIGxlcyBhcHBhcmVpbHMgcGx1cyBsYXJnZXMgKi9cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;IAGEA,8BAA0D;IACxDA,8CACF;IAAAA,iBAAM;;;;;;;;;;;;IAENA,8BAA8D;IAE1DA,yBAAgF;IAClFA,iBAAM;IACNA,8BAA2B;IACrBA,YAAoB;IAAAA,iBAAK;IAC7BA,yBAAG;IAAAA,YAA0B;IAAAA,iBAAI;IACjCA,yBAAG;IAAAA,YAAmC;IAAAA,iBAAI;IAC1CA,0BAAG;IAAAA,aAAkC;IAAAA,iBAAI;IAE3CA,+BAA8B;IACsBA,yBAAQ;IAAAA,iBAAI;IAC9DA,6BAAmD;IAAAA,yBAAQ;IAAAA,iBAAI;IAC/DA,mCAA8C;IAAtCA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA2B;IAAA,EAAC;IAACA,0BAAS;IAAAA,iBAAS;;;;IAX3DA,eAA2B;IAA3BA,8DAA2B;IAG5BA,eAAoB;IAApBA,uCAAoB;IACrBA,eAA0B;IAA1BA,6CAA0B;IAC1BA,eAAmC;IAAnCA,yEAAmC;IACnCA,eAAkC;IAAlCA,wEAAkC;IAGlCA,eAA8C;IAA9CA,uEAA8C;IAC9CA,eAA+C;IAA/CA,uEAA+C;;;ACwCxD,OAAM,MAAOC,qBAAqB;EAGhCC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAFnC,cAAS,GAAe,EAAE;EAE8B;EAExDC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACF,eAAe,CAACG,YAAY,EAAE,CAACC,SAAS,CAACC,SAAS,IAAG;MACxD,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC;EACJ;EAEAC,cAAc,CAACC,EAAU;IACvB,IAAI,CAACP,eAAe,CAACM,cAAc,CAACC,EAAE,CAAC,CAACH,SAAS,CAAC,MAAK;MACrD,IAAI,CAACF,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;;AAnBWJ,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAU;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MD3DlCf,8BAA2B;MACrBA,oCAAoB;MAAAA,iBAAK;MAE7BA,sEAEM;MAENA,wEAeM;MACRA,iBAAM;;;MApBEA,eAA4B;MAA5BA,iDAA4B;MAIRA,eAAY;MAAZA,uCAAY","names":["i0","ResourceListComponent","constructor","resourceService","ngOnInit","fetchResources","getResources","subscribe","resources","deleteResource","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\lola\\Documents\\GitHub\\AngularProject\\EntreCitoyens\\src\\app\\Components\\resource\\resource-list\\resource-list.component.html","C:\\Users\\lola\\Documents\\GitHub\\AngularProject\\EntreCitoyens\\src\\app\\Components\\resource\\resource-list\\resource-list.component.ts"],"sourcesContent":["<div class=\"resource-list\">\n  <h2>Liste des ressources</h2>\n\n  <div *ngIf=\"resources.length === 0\" class=\"empty-message\">\n    Aucune ressource disponible.\n  </div>\n\n  <div *ngFor=\"let resource of resources\" class=\"resource-item\">\n    <div class=\"resource-image\">\n      <img [src]=\"resource.image_path\" alt=\"Image de l'article\" class=\"article-image\">\n    </div>\n    <div class=\"resource-info\">\n      <h3>{{ resource.title }}</h3>\n      <p>{{ resource.description }}</p>\n      <p>Créé par : {{ resource.createdBy }}</p>\n      <p>Créé le : {{ resource.createdAt }}</p>\n    </div>\n    <div class=\"resource-actions\">\n      <a [routerLink]=\"['/resource/edit', resource.id]\">Modifier</a>\n      <a [routerLink]=\"['/resource/share', resource.id]\">Partager</a>\n      <button (click)=\"deleteResource(resource.id)\">Supprimer</button>\n    </div>\n  </div>\n</div>\n","// import { Component, OnInit } from '@angular/core';\n// import { Router } from '@angular/router';\n\n// import { Resource } from '../../../DTO/resource';\n// import { ResourceService } from '../../../Services/resource/resource.service';\n\n// @Component({\n//   selector: 'app-resource-list',\n//   templateUrl: './resource-list.component.html',\n//   styleUrls: ['./resource-list.component.scss']\n// })\n// export class ResourceListComponent implements OnInit {\n//   resources: Resource[];\n\n//   constructor(\n//     private router: Router,\n//     private resourceService: ResourceService\n//   ) { }\n\n//   ngOnInit(): void {\n//     this.resourceService.getResources().subscribe(\n//       (resources: Resource[]) => {\n//         this.resources = resources;\n//       },\n//       (error) => {\n//         // Gérer les erreurs ici\n//       }\n//     );\n//   }\n\n//   editResource(resourceId: string): void {\n//     this.router.navigate(['/resource/edit', resourceId]);\n//   }\n\n//   deleteResource(resourceId: string): void {\n//     this.resourceService.deleteResource(resourceId).subscribe(\n//       () => {\n//         // Gérer la suppression réussie ici\n//         // Par exemple, actualiser la liste des ressources\n//         this.resources = this.resources.filter(resource => resource.id !== resourceId);\n//       },\n//       (error) => {\n//         // Gérer les erreurs ici\n//       }\n//     );\n//   }\n// }\n\n\n\nimport { Component, OnInit } from '@angular/core';\nimport { Resource } from '../../../DTO/resource';\nimport { ResourceService } from '../../../Services/resource/resource.service';\n\n@Component({\n  selector: 'app-resource-list',\n  templateUrl: './resource-list.component.html',\n  styleUrls: ['./resource-list.component.scss']\n})\nexport class ResourceListComponent implements OnInit {\n  resources: Resource[] = [];\n\n  constructor(private resourceService: ResourceService) { }\n\n  ngOnInit(): void {\n    this.fetchResources();\n  }\n\n  fetchResources(): void {\n    this.resourceService.getResources().subscribe(resources => {\n      this.resources = resources;\n    });\n  }\n\n  deleteResource(id: string): void {\n    this.resourceService.deleteResource(id).subscribe(() => {\n      this.fetchResources();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}